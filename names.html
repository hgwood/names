<div class="row">
<div class="col-sm-12 col-md-8 col-md-offset-2">

  <div class="jumbotron">
    <span>Hello {{user.name}} :)</span>
    <h1>Comment on l'appelle aujourd'hui ?</h1>
    <form
      ng-controller="NameSubmissionFormController as submission"
      name="submission.form"
      ng-submit="submission.submit(submission.name)">
      <div class="form-group" ng-class="{'has-error': submission.form.$invalid && submission.form.$dirty}">
        <input
          type="text"
          class="form-control input-lg"
          placeholder="un petit nom ici"
          ng-model="submission.name"
          required
          hg-unique-among="main.names"
          hg-unique-field="name">
        <div>
          <span
            class="label label-danger"
            ng-show="submission.form.$dirty && submission.form.$error.unique">
            Il y est déjà celui là !
          </span>
        </div>
      </div>
      <button class="btn btn-primary btn-lg" ng-disabled="submission.form.$invalid">C'est parti !</button>
    </form>
  </div>

  <table class="table" id="table">
    <tbody>
      <tr
        ng-repeat="name in main.names | orderByPriority | orderUsing:main.ranking"
        ng-controller="SubmissionItemController as submission"
        ng-class="{vetoed: name.gender === 'female' || name.vetoed === true}">
        <td>{{name.name}}</td>
        <td>{{name.submitter}}, <span am-time-ago="name.time"></span></td>
        <td>
          <i class="fa fa-arrow-up" ng-click="main.ranking.up($index)" ng-hide="$first"></i>
        </td>
        <td>
          <i class="fa fa-arrow-down" ng-click="main.ranking.down($index)" ng-hide="$last"></i>
        </td>
        <td>
          <i class="fa fa-trash-o" ng-click="main.veto(name)"></i>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="col-xs-4 col-xs-offset-4" ng-show="main.loading">
    <i class="fa fa-spinner fa-spin fa-4x"></i>
  </div>

</div>
</div>
